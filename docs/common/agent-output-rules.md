# Правила вывода кода (компактный режим)

- Показывай только изменяемые фрагменты с контекстом 2-3 строки до/после.
- Неизменные блоки замещай комментарием `// ... здесь без изменений ...`.
- Большие файлы показывай частями с указанием номеров строк.
- Используй diff-формат для наглядности.
- Имя файла указывай строкой выше блока кода, а не в теге.
- Не выводи полные листинги файлов без необходимости и не дублируй неизменный код.

### Примеры правильного вывода

**example.ts**

```typescript
// ... здесь без изменений (строки 1-15) ...

function calculateSum(numbers: number[]): number {
-   return numbers.reduce((a, b) => a + b);
+   // Добавляем проверку на пустой массив
+   if (numbers.length === 0) return 0;
+   return numbers.reduce((sum, current) => sum + current, 0);
}

// ... здесь без изменений (строки 25-50) ...
```

**example.ts (строки 20-25)**

```typescript
// Изменения в функции calculateSum
function calculateSum(numbers: number[]): number {
	// Добавляем проверку на пустой массив
	if (numbers.length === 0) return 0;
	return numbers.reduce((sum, current) => sum + current, 0);
}
```
