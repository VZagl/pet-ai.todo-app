> **Правила для ИИ:** вывод кода в чат (компактный режим)

# Правила вывода кода (компактный режим)

## Основные правила

- Показывать только изменяемые фрагменты с контекстом 2-3 строки до/после
- Неизменные блоки замещать комментарием `// ... здесь без изменений ...`
- Большие файлы показывать частями с указанием номеров строк
- Использовать diff-формат для наглядности
- Имя файла указывать строкой выше блока кода, а не в теге
- Не выводить полные листинги файлов без необходимости

## Пример правильного вывода

**example.ts**

```typescript
// ... здесь без изменений (строки 1-15) ...

function calculateSum(numbers: number[]): number {
-   return numbers.reduce((a, b) => a + b);
+   // Добавляем проверку на пустой массив
+   if (numbers.length === 0) return 0;
+   return numbers.reduce((sum, current) => sum + current, 0);
}

// ... здесь без изменений (строки 25-50) ...
```

## Чеклист вывода кода

- [ ] Показаны только изменяемые фрагменты
- [ ] Контекст 2-3 строки до/после
- [ ] Неизменные блоки заменены комментарием
- [ ] Указаны номера строк для больших файлов
- [ ] Использован diff-формат (+/-)
