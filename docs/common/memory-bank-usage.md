> **Правила для ИИ:** использование Memory Bank System

# Memory Bank System - Правила использования

## Приоритет правил

**КРИТИЧНО**: Правила из `AGENTS.md` имеют **приоритет** над инструкциями Memory Bank System.

## Основные требования

- **Отвечать на русском языке**, адаптируя примеры из Memory Bank System
- **Запрашивать подтверждение** перед созданием/изменением файлов Memory Bank
- **Показывать план изменений** перед применением
- **Следовать правилам проекта** из `AGENTS.md`

## Подтверждение изменений

Перед созданием/изменением файлов Memory Bank:

1. Показать план изменений (какие файлы, что изменено)
2. Запросить явное подтверждение ("Создать структуру?", "Обновить tasks.md?")
3. Только после подтверждения выполнять операции

**Исключения** (подтверждение НЕ требуется):

- Чтение файлов Memory Bank
- Проверка существования файлов/директорий
- Анализ содержимого без изменений

**Пример:**

```
Ассистент: "Для инициализации Memory Bank нужно создать:
- Директория: memory-bank/
- Файлы: tasks.md, activeContext.md, progress.md (список сокращён)

Создать структуру?"
[ЖДЁТ ПОДТВЕРЖДЕНИЯ]
```

## Режимы Memory Bank

**Доступные режимы:**

- **VAN** - Инициализация и входная точка
- **PLAN** - Планирование
- **CREATIVE** - Дизайн-решения
- **BUILD** - Реализация
- **REFLECT** - Рефлексия и обзор
- **ARCHIVE** - Документация

**При использовании любого режима:**

1. Все ответы на русском языке
2. Запрашивать подтверждение перед изменениями
3. Показывать план перед применением
4. Следовать правилам из `AGENTS.md`

## Структура файлов Memory Bank

Все файлы Memory Bank находятся в `memory-bank/`:

- `tasks.md` - Отслеживание задач
- `activeContext.md` - Текущий фокус
- `progress.md` - Статус реализации
- `projectbrief.md` - Основа проекта
- `productContext.md` - Контекст продукта
- `systemPatterns.md` - Паттерны системы
- `techContext.md` - Технический контекст
- `style-guide.md` - Руководство по стилю
- `backlog.md` - Список задач (активные и завершённые)
- `creative/creative-[feature_name].md` - Решения по дизайну
- `reflection/reflection-[task_id].md` - Рефлексия по задачам
- `archive/archive-[task_id].md` - Архив задач

**Перед созданием файла:**

1. Проверить существование директории `memory-bank/`
2. Показать план создания
3. Запросить подтверждение

## Работа с backlog

### Перенос выполненных задач

После завершения задачи, взятой из `backlog.md`, **обязательно обновить `memory-bank/backlog.md`**:

1. В `backlog.md`: отметить задачу выполненной (`[ ]` → `[x]`) и переместить из раздела «Активные» в «Завершённые»
2. Добавить дату завершения
3. Добавить ссылку на файл архива (если создан)
4. Обновить статус в `tasks.md`

**Пример переноса:**

Из раздела "Активные задачи":

```markdown
- [ ] Исправить 3 провальных теста TodoInput (test-todoinput-fixes-001)
```

В раздел "Завершённые задачи":

```markdown
- [x] Исправить 3 провальных теста TodoInput (test-todoinput-fixes-001) - 2026-01-27
  - Архив: memory-bank/archive/archive-test-todoinput-fixes-001.md
  - Рефлексия: memory-bank/reflection/reflection-test-todoinput-fixes-001.md
```

## Интеграция с правилами проекта

Memory Bank System совместим с:

- ✅ Правилами командной строки из `AGENTS.md`
- ✅ Правилами MCP и Context7
- ✅ Правилами sequential thinking
- ✅ Структурой проекта

**Адаптация команд:**

- Адаптировать под платформу (Windows/PowerShell, Linux/Bash, macOS/Zsh)
- Использовать правильные разделители путей (`\` для Windows, `/` для Unix)
- Следовать правилам из `AGENTS.md`

## Чеклист Memory Bank

- [ ] `tasks.md` обновлён с текущей задачей
- [ ] `activeContext.md` отражает текущий фокус
- [ ] Завершённая задача перенесена в `archive/`
- [ ] Задача из `backlog.md` перенесена в завершённые с датой
- [ ] Создан файл `reflection/` при необходимости
- [ ] Все ответы на русском языке
- [ ] Подтверждение получено перед изменениями

## Резюме

Memory Bank System - инструмент для структурированного управления задачами. Его использование должно полностью соответствовать правилам из `AGENTS.md`. При конфликтах приоритет имеют правила из `AGENTS.md`.
