# Creative Phase: ะัะฑะพั ะธะฝััััะผะตะฝัะฐ E2E (Playwright vs Cypress)

**Task ID:** e2e-tests-001  
**ะะพะบัะผะตะฝั:** creative-e2e-tool-selection.md  
**ะะฐัะฐ:** 2026-02-11

---

๐จ๐จ๐จ ENTERING CREATIVE PHASE: ARCHITECTURE / TECHNOLOGY SELECTION ๐จ๐จ๐จ

**Focus:** ะัะฑะพั E2E-ะธะฝััััะผะตะฝัะฐ ะดะปั pet.todo  
**Objective:** ะัะธะฝััั ะพะฑะพัะฝะพะฒะฐะฝะฝะพะต ัะตัะตะฝะธะต ะผะตะถะดั Playwright ะธ Cypress ั ััััะพะผ ััะตะฑะพะฒะฐะฝะธะน ะฟัะพะตะบัะฐ  
**Requirements:** Multi-browser, Vite+React, CI/CD, DX, ัะพะพัะฒะตัััะฒะธะต testing-guidelines.md (ััััะบะธะน ัะทัะบ ะฒ ัะตััะฐั)

---

## 1. Context

### ะกะธััะตะผะฝัะต ััะตะฑะพะฒะฐะฝะธั

- **ะะพะปะฝัะน user flow:** ะดะพะฑะฐะฒะปะตะฝะธะต โ ะฟะตัะตะบะปััะตะฝะธะต โ ัะดะฐะปะตะฝะธะต โ ัะธะปัััะฐัะธั ะทะฐะดะฐั
- **Multi-browser:** Chrome, Firefox, WebKit/Edge โ ัะตััะธัะพะฒะฐะฝะธะต ะฝะฐ ัะฐะทะฝัั ะฑัะฐัะทะตัะฐั
- **ะะฒัะพะผะฐัะธะทะฐัะธั ะบัะธัะธัะตัะบะธั ััะตะฝะฐัะธะตะฒ** ั ะฒะพะทะผะพะถะฝะพัััั CI/CD

### ะขะตัะฝะธัะตัะบะธะต ะพะณัะฐะฝะธัะตะฝะธั

- **ะกัะตะบ:** React 19, Vite 7, TypeScript 5.9
- **Unit-ัะตััั:** Vitest + Testing Library (ะพััะฐะฒะธัั ะฑะตะท ะธะทะผะตะฝะตะฝะธะน)
- **Dev-ัะตัะฒะตั:** `pnpm dev` โ `http://localhost:5173`
- **ะัะฐะฒะธะปะฐ:** `testing-guidelines.md` โ ััััะบะธะน ัะทัะบ ะฒ describe/it, ะบะพะฝััะฐะฝัั ะธะท `src/constants/todo.ts`

### ะกััะตััะฒัััะธะต ะฟะฐััะตัะฝั

- ะะพะผะฟะพะฝะตะฝัั ะธัะฟะพะปัะทััั `aria-label` (TodoInput, TodoFilter, TodoItem)
- ะะพะฝััะฐะฝัั: `STORAGE_KEY`, `MAX_TODO_LENGTH`, `FILTER_LABELS`

---

## 2. Options Analysis

### Option 1: Playwright

**ะะฟะธัะฐะฝะธะต:** E2E-ััะตะนะผะฒะพัะบ ะพั Microsoft ั ะฝะฐัะธะฒะฝะพะน ะฟะพะดะดะตัะถะบะพะน ะฝะตัะบะพะปัะบะธั ะฑัะฐัะทะตัะพะฒ ะธ ะฐััะธัะตะบัััะพะน ยซะฒะฝะต ะฑัะฐัะทะตัะฐยป.

| ะัะธัะตัะธะน          | ะัะตะฝะบะฐ                                                           |
| ----------------- | ---------------------------------------------------------------- |
| **Vite + React**  | ะัััะพะตะฝะฝัะน `webServer` ั ะบะพะผะฐะฝะดะพะน `pnpm dev` ะธ ะฟะพััะพะผ 5173       |
| **Multi-browser** | Chrome, Firefox, WebKit โ ะฝะฐัะธะฒะฝะฐั ะฟะพะดะดะตัะถะบะฐ, ะฑะตะท ยซexperimentalยป |
| **DX**            | Playwright UI, trace viewer, ัะบัะธะฝัะพัั, ะฒะธะดะตะพ ะฟัะธ ะฟะฐะดะตะฝะธะธ        |
| **ะกะบะพัะพััั**      | ~26% ะฑััััะตะต ะฒ ััะตะดะฝะตะผ; ะฑะตัะฟะปะฐัะฝัะน ะฟะฐัะฐะปะปะตะปัะฝัะน ะทะฐะฟััะบ           |
| **CI/CD**         | ะัะธัะธะฐะปัะฝัะต GitHub Actions, JUnit/HTML-ะพััััั                    |
| **ะัััะบะธะน ัะทัะบ**  | TypeScript/JS โ ะฟัะพะธะทะฒะพะปัะฝัะต ัััะพะบะธ ะฒ describe/it                |

**Pros:**

- Multi-browser ะธะท ะบะพัะพะฑะบะธ (Chrome, Firefox, WebKit)
- `webServer` ะฒ ะบะพะฝัะธะณะต โ ะฐะฒัะพะผะฐัะธัะตัะบะธะน ะทะฐะฟััะบ dev-ัะตัะฒะตัะฐ
- ะะตัะฟะปะฐัะฝัะน ะฟะฐัะฐะปะปะตะปัะฝัะน ะทะฐะฟััะบ ะฑะตะท ะพะฑะปะฐัะฝะพะณะพ ะฟะปะฐะฝะฐ
- ะะฐะฑะพัะฐะตั ะฒะฝะต ะฑัะฐัะทะตัะฐ โ ััะฐะฑะธะปัะฝะพััั ะฟัะธ ะบัะฐัะฐั ะฟัะธะปะพะถะตะฝะธั
- ะะตัะตัะฒะฐั ะทะฐะฟัะพัะพะฒ, file downloads, cross-origin ะฑะตะท ัะฐะบะพะฒ
- TypeScript-first, ัะพัะพัะฐั ัะธะฟะธะทะฐัะธั

**Cons:**

- ะะพะปะตะต ััะถัะปะฐั ะฝะฐัะฐะปัะฝะฐั ัััะฐะฝะพะฒะบะฐ (~200MB ะฑัะฐัะทะตัะพะฒ)
- ะััะณะพะน API ะฟะพ ััะฐะฒะฝะตะฝะธั ั Vitest (describe/test vs Jest-ััะธะปั)

**Complexity:** Medium  
**Implementation Time:** 2โ3 ัะฐัะฐ ะดะปั setup + ะฑะฐะทะพะฒัะต ััะตะฝะฐัะธะธ

---

### Option 2: Cypress

**ะะฟะธัะฐะฝะธะต:** ะะพะฟัะปััะฝัะน E2E-ััะตะนะผะฒะพัะบ ั time-travel debugging ะธ ะฒัะฟะพะปะฝะตะฝะธะตะผ ะฒะฝัััะธ ะฑัะฐัะทะตัะฐ.

| ะัะธัะตัะธะน          | ะัะตะฝะบะฐ                                                                        |
| ----------------- | ----------------------------------------------------------------------------- |
| **Vite + React**  | ะะพะดะดะตัะถะบะฐ ัะตัะตะท `baseUrl`, ะฟะปะฐะณะธะฝั ะดะปั Vite                                   |
| **Multi-browser** | Chrome โ ะพัะฝะพะฒะฝะพะน; Firefox โ experimental (ั 2019); Edge/WebKit โ ะพะณัะฐะฝะธัะตะฝะฝะพ |
| **DX**            | Time-travel debugging, Cypress Dashboard (ัะฐััะธัะฝะพ ะฟะปะฐัะฝัะน)                   |
| **ะกะบะพัะพััั**      | ะะตะดะปะตะฝะฝะตะต Playwright; ะฟะฐัะฐะปะปะตะปัะฝัะน ะทะฐะฟััะบ โ ะฒ Cypress Cloud (~$67/ะผะตั)        |
| **CI/CD**         | ะะฝัะตะณัะฐัะธั ะตััั; ัะฐััะธัะตะฝะฝัะต ะพััััั โ ะฒ Cloud                                 |
| **ะัััะบะธะน ัะทัะบ**  | TypeScript/JS โ ะฟัะพะธะทะฒะพะปัะฝัะต ัััะพะบะธ ะฒ describe/it                             |

**Pros:**

- ะัะปะธัะฝัะน DX: time-travel, ะฐะฒัะพะผะฐัะธัะตัะบะพะต ะพะถะธะดะฐะฝะธะต
- ะัะธะฒััะฝัะน ัะธะฝัะฐะบัะธั ะดะปั JS/React-ัะฐะทัะฐะฑะพััะธะบะพะฒ
- ะัััะพะตะฝะฝะฐั ะฟะพะดะดะตัะถะบะฐ ะฟะตัะตัะฒะฐัะฐ XHR/fetch
- ะะตะฝััะธะน ัะฐะทะผะตั ะฝะฐัะฐะปัะฝะพะน ัััะฐะฝะพะฒะบะธ

**Cons:**

- Firefox ะดะพ ัะธั ะฟะพั experimental; WebKit ะฝะต ะฟะพะดะดะตัะถะธะฒะฐะตััั
- ะะฐัะฐะปะปะตะปัะฝัะน ะทะฐะฟััะบ โ ะฟะปะฐัะฝัะน Cloud
- ะะฐะฑะพัะฐ ะฒะฝัััะธ ะฑัะฐัะทะตัะฐ โ ะบัะฐั ะฟัะธะปะพะถะตะฝะธั ะผะพะถะตั ยซัะพะฝัััยป ัะตััั
- Cross-origin ะพะณัะฐะฝะธัะตะฝะธั (ะดะปั pet.todo ะฝะต ะบัะธัะธัะฝะพ)

**Complexity:** Medium  
**Implementation Time:** 2โ3 ัะฐัะฐ ะดะปั setup + ะฑะฐะทะพะฒัะต ััะตะฝะฐัะธะธ

---

### Option 3: Puppeteer (ะดะปั ะฟะพะปะฝะพัั)

**ะะฟะธัะฐะฝะธะต:** ะะธะทะบะพััะพะฒะฝะตะฒัะน API ะดะปั Chrome, ะฑะตะท ะฒัััะพะตะฝะฝะพะณะพ test runner.

**ะัะตะฝะบะฐ:** ะขัะตะฑัะตั ะพัะดะตะปัะฝะพะณะพ test runner (Vitest/Mocha). Multi-browser โ ัะพะปัะบะพ ัะตัะตะท ััะพัะพะฝะฝะธะต ะฟะฐะบะตัั. ะะปั pet.todo ะธะทะฑััะพัะตะฝ ะธ ะฝะต ัะพะพัะฒะตัััะฒัะตั ะบัะธัะตัะธั ยซะณะพัะพะฒัะน E2E-ะธะฝััััะผะตะฝัยป.

**ะะตัะตะฝะธะต:** ะะต ัะฐััะผะฐััะธะฒะฐัั.

---

## 3. ะกัะฐะฒะฝะธัะตะปัะฝะฐั ัะฐะฑะปะธัะฐ ะฟะพ ะบัะธัะตัะธัะผ ะทะฐะดะฐัะธ

| ะัะธัะตัะธะน                                | Playwright   | Cypress                          |
| --------------------------------------- | ------------ | -------------------------------- |
| Multi-browser (Chrome, Firefox, WebKit) | โ ะะฐัะธะฒะฝะพ   | โ๏ธ Chrome + experimental Firefox |
| Vite + React                            | โ webServer | โ baseUrl                       |
| CI/CD                                   | โ ะะตัะฟะปะฐัะฝะพ | โ ะะตัะฟะปะฐัะฝะพ (ะฑะฐะทะพะฒะพ)            |
| ะะฐัะฐะปะปะตะปัะฝัะน ะทะฐะฟััะบ                     | โ ะะตัะฟะปะฐัะฝะพ | โ ะะปะฐัะฝัะน Cloud                 |
| ะัััะบะธะน ัะทัะบ ะฒ ัะตััะฐั                   | โ           | โ                               |
| ะัะฟะพะปัะทะพะฒะฐะฝะธะต aria-label                | โ getByRole | โ cy.get                        |
| localStorage ะธะทะพะปััะธั                   | โ context   | โ cy.clearLocalStorage          |

---

## 4. Decision

### ะัะฑัะฐะฝะฝัะน ะฒะฐัะธะฐะฝั: **Playwright**

### ะะฑะพัะฝะพะฒะฐะฝะธะต

1. **Multi-browser โ ะพะฑัะทะฐัะตะปัะฝะพะต ััะตะฑะพะฒะฐะฝะธะต.** Playwright ะฟะพะดะดะตัะถะธะฒะฐะตั Chrome, Firefox ะธ WebKit ยซะธะท ะบะพัะพะฑะบะธยป. Cypress ะพััะฐะฒะปัะตั Firefox ะฒ experimental, WebKit ะฝะต ะฟะพะดะดะตัะถะธะฒะฐะตั.

2. **ะัััะพะตะฝะฝัะน webServer.** Playwright ัะผะตะตั ะทะฐะฟััะบะฐัั `pnpm dev` ะธ ะถะดะฐัั ะณะพัะพะฒะฝะพััะธ ัะตัะฒะตัะฐ โ ะผะธะฝะธะผัะผ ัััะฝะพะน ะฝะฐัััะพะนะบะธ ะธ ะบะพะฝัะปะธะบัะพะฒ ะฟะพััะพะฒ.

3. **ะกัะพะธะผะพััั ะธ ะผะฐัััะฐะฑะธัะพะฒะฐะฝะธะต.** ะะฐัะฐะปะปะตะปัะฝัะน ะทะฐะฟััะบ ะฒ Playwright ะฑะตัะฟะปะฐัะตะฝ. ะ Cypress ะฟะพะปะฝะพัะตะฝะฝัะน ะฟะฐัะฐะปะปะตะปะธะทะผ โ ะฒ ะฟะปะฐัะฝะพะผ Cloud.

4. **ะกะพะพัะฒะตัััะฒะธะต testing-guidelines.md.** ะะฑะฐ ะฟะพะดะดะตัะถะธะฒะฐัั ััััะบะธะน ัะทัะบ. ะะปั pet.todo ะฒะฐะถะตะฝ `aria-label` โ Playwright ัะตะบะพะผะตะฝะดััั `getByRole`, ััะพ ัะพัะพัะพ ัะพัะตัะฐะตััั ั accessibility-ะฟะพะดัะพะดะพะผ.

5. **ะกะพะฒะผะตััะธะผะพััั ัะพ ััะตะบะพะผ.** Vite 7, React 19, TypeScript 5.9 โ ะฒัะต ะฟะพะดะดะตัะถะธะฒะฐัััั Playwright ะฑะตะท ะดะพะฟะพะปะฝะธัะตะปัะฝัั ะฟะปะฐะณะธะฝะพะฒ.

6. **ะะธัะบะธ.** ะะปั pet.todo ะฝะตั cross-origin ะธ OAuth. ะัะฝะพะฒะฝัะต ััะตะฝะฐัะธะธ โ CRUD, ัะธะปัััั, localStorage. Playwright ะทะฐะบััะฒะฐะตั ััะธ ะบะตะนัั ะฑะตะท ะพะณัะฐะฝะธัะตะฝะธะน.

---

## 5. Implementation Plan

### ะจะฐะณะธ ะฒะฝะตะดัะตะฝะธั

1. **ะฃััะฐะฝะพะฒะบะฐ:** `pnpm add -D @playwright/test`
2. **ะะพะฝัะธะณััะฐัะธั:** `playwright.config.ts` ั:
   - `webServer: { command: 'pnpm dev', url: 'http://localhost:5173' }`
   - `projects` ะดะปั Chrome, Firefox, WebKit
   - `baseURL: 'http://localhost:5173'`
3. **ะกะบัะธะฟัั ะฒ package.json:**
   - `test:e2e` โ headless
   - `test:e2e:ui` โ UI mode
4. **ะกัััะบัััะฐ:** `e2e/` ะธะปะธ `tests/e2e/`
5. **ะกะตะปะตะบัะพัั:** `getByRole('button', { name: 'ะะพะฑะฐะฒะธัั ะทะฐะดะฐัั' })`, `getByLabel('ะะพะฒะฐั ะทะฐะดะฐัะฐ')` โ ะธัะฟะพะปัะทะพะฒะฐะฝะธะต ัััะตััะฒัััะธั aria-label
6. **ะะทะพะปััะธั:** ` storageState: { cookies: [], origins: [] }` ะธะปะธ `beforeEach` ั ะพัะธััะบะพะน localStorage
7. **ะะฑะฝะพะฒะปะตะฝะธะต:** `docs/project/testing-guidelines.md` โ ัะฐะทะดะตะป E2E ั Playwright

### ะะพะฝััะฐะฝัั ะดะปั ัะตััะพะฒ

```typescript
import { STORAGE_KEY, MAX_TODO_LENGTH } from '../src/constants/todo';
```

---

## 6. Validation

- [x] Multi-browser (Chrome, Firefox, WebKit)
- [x] ะกะพะฒะผะตััะธะผะพััั ั Vite + React
- [x] DX (trace, ัะบัะธะฝัะพัั, UI mode)
- [x] ะะฝัะตะณัะฐัะธั ะฒ CI/CD
- [x] ะัััะบะธะน ัะทัะบ ะฒ ัะตััะฐั
- [x] ะกะพะพัะฒะตัััะฒะธะต testing-guidelines.md

---

## 7. ะะธะฐะณัะฐะผะผะฐ: E2E Testing Architecture

```mermaid
graph TD
    subgraph "E2E Test Flow"
        T[Playwright Tests] --> WS[webServer: pnpm dev]
        WS --> V[Vite: localhost:5173]
        V --> R[React App]
        T --> P1[Chrome]
        T --> P2[Firefox]
        T --> P3[WebKit]
    end

    subgraph "Test Files"
        A[todo-add.spec.ts]
        B[todo-crud.spec.ts]
        C[todo-filter.spec.ts]
        D[todo-persistence.spec.ts]
    end

    A & B & C & D --> T
```

---

๐จ CREATIVE CHECKPOINT: Decision Made

- **ะะตัะตะฝะธะต:** Playwright
- **Rationale:** Multi-browser, webServer, ะฑะตัะฟะปะฐัะฝัะน ะฟะฐัะฐะปะปะตะปะธะทะผ, ัะพะฒะผะตััะธะผะพััั ั ััะตะฑะพะฒะฐะฝะธัะผะธ
- **Next:** Technology validation โ BUILD (ัััะฐะฝะพะฒะบะฐ + ะฟะตัะฒัะน ัะตัั)

---

๐จ๐จ๐จ EXITING CREATIVE PHASE - DECISION MADE ๐จ๐จ๐จ

**Summary:** ะัะฑัะฐะฝ Playwright ะบะฐะบ E2E-ะธะฝััััะผะตะฝั ะดะปั pet.todo  
**Key Decisions:** Playwright; ะฟัะพะตะบัั ะดะปั Chrome, Firefox, WebKit; webServer ะดะปั Vite  
**Next Steps:** Technology validation, ะทะฐัะตะผ BUILD mode
